<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration Form</title>
  <link rel="stylesheet" href="regform.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <script type="text/javascript">
    function Redirect() {
       location.href="file:///E:/java%20bank%20project/home.html";
    }
 </script>
</head>
<body>
  <div class="wrapper">
    <div action="">
      <h1>Bank Registration Form</h1>
      <div class="input-box">
        <input onchange="changeName(this)" type="" id="Name" name="acc_name" placeholder="Name" required>
    
      </div>
      <div class="input-box">
        <input onchange="changefa(this)" type="text" id="FatherName" name="fa_name" placeholder="Father Name" required>
        
      </div>
      <div class="input-box">
        <input onchange="changeaad(this)" type="number" id="number" name="aad_number" placeholder="Aadhar Number" required> 
        
        
      </div>
      <div class="input-box">
        <input onchange="changemob(this)" type="number" id="moblie" name="mob_no" placeholder="Moblie Number"required>
      </div>
      <div class="input-box">
        <input onchange="changenum(this)" type="number" id="AccountNumber" name="acc_number" placeholder="Account Number"required>
        
      </div>
      <div class="input-box">
        <input onchange="changebal(this)" type="number" id="Deposit" name="acc_balance" placeholder="Deposit Amount" required>
        
      </div>
      
      <div class="input-box">
        <input onchange="changedate(this)" type="date" id="dob" name="date_b" placeholder="Date Of Brith" required>
        
      </div>
      <button onclick=getAll() id="submit-button" class="submit-button">Register</button><br><br><br>
      <button class="submit-buttons"class="submit-button"onclick="Redirect();">BACK</button>
      
      
            
      
        
      </div>
    
  </div>
  <div class="popup" id="success-popup">
    <div class="popup-content">
        <p id="mes"></p>
        <button class="popup-button" onclick="closePopup('success-popup')">Close</button>
    </div>
</div>

<div class="popup" id="error-popup">
    <div class="popup-content">
        <p>Please Fill In All Fields ???</p>
        <button class="popup-button" onclick="closePopup('error-popup')">Close</button>
    </div>
</div>
<script>
  function openPopup(id) {
    const popup = document.getElementById(id);
    popup.style.display = 'flex';
}

function closePopup(id) {
    const popup = document.getElementById(id);
    popup.style.display = 'none';

    
document.getElementById("Name").value="";
document.getElementById("FatherName").value="";
document.getElementById("number").value="";
 document.getElementById("moblie").value="";
 document.getElementById("AccountNumber").value="";
document.getElementById("Deposit").value="";
 document.getElementById("dob").value="";

}

const nameInput = document.getElementById('Name');
const fatherInput = document.getElementById('FatherName');
const aadharInput = document.getElementById('number');
const moblieInput = document.getElementById('moblie');
const accountInput = document.getElementById('AccountNumber');
const depositInput = document.getElementById('Deposit');
const dateInput = document.getElementById('dob');
const submitButton = document.getElementById('submit-button');


submitButton.addEventListener('click', function () {
    const Name = nameInput.value;
    const AccountNumber= accountInput.value;
    const moblie = moblieInput.value;
    const Deposit = depositInput.value;
    const FatherName = fatherInput.value;
    const number = aadharInput.value;
    const dob = dateInput.value;


    if (Name && FatherName && AccountNumber && moblie && Deposit && number && dob) {
        // You can perform further processing here
        openPopup('success-popup');
     
    } else {
        openPopup('error-popup');
        
    }
});


let name;
let faname;
let aadhar;
let moblie;
let number;
let balance;
let date;

function changeName(e){
console.log(e.value)
name=e.value
}

function changefa(e){
console.log(e.value)
faname=e.value
}
function changeaad(e){
console.log(e.value)
aadhar=e.value
}
function changemob(e){
console.log(e.value)
moblie=e.value
}
function changenum(e){
console.log(e.value)
number=e.value
}
function changebal(e){
console.log(e.value)
balance=e.value
}
function changedate(e){
console.log(e.value)
date=e.value
}
function getAll(){
console.log (name);
console.log (faname);
console.log (aadhar);
console.log (moblie);
console.log (number);
console.log (balance);
console.log (date);

let data={

"acc_name":name,
"fa_name":faname,
"aa_number":aadhar,
"mob_no":moblie,
"accountNumber":number,
"balance":balance,
"date_b":date

}
fetch("http://localhost:5000/Project/create", {
method: "POST", // or 'PUT'
headers: {
 "Content-Type": "application/json",
},
body: JSON.stringify(data),
}).then((res)=>res.text()).then((response)=>{
 console.log(response)
 document.getElementById("mes").innerHTML=response;
 
})
}
</script>
</body>
</html>